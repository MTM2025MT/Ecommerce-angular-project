<div style="width: 100%;" class="product-grid">
    <div class="filter-bar">
      <div (click)="FilterOpener($event)" class="filter">
        <div  class="filter-header">
         <h4 >price</h4>
         <i class="bi bi-chevron-up"></i>
        </div>
          <div class="filter-body">
            <div>
              <input type="number" (change)="onManualChange($event)" [(ngModel)]="rangeValues[0]" disabled class="min-price-input" placeholder="Min Price" />
              <span class="price-separator">-</span>
              <input type="number" (change)="onManualChange($event)" [(ngModel)]="rangeValues[1]" disabled class="max-price-input" placeholder="Max Price" />
            </div>
            <div class="card flex justify-center">
              <p-slider
                [(ngModel)]="rangeValues"
                (click)="getpricerangevalue($event)"
                [range]="true"
                [min]="0"
                [max]="1000"
                styleClass="price-slider"
                class="w-full"
              ></p-slider>
            </div>
          </div>

      </div>
      <div (click)="FilterOpener($event)" class="filter">
        <div class="filter-header">
         <h4>rate</h4>
         <i class="bi bi-chevron-up"></i>
        </div>
        <div class="filter-body">
       <p-rating [(ngModel)]="rate" />
        </div>
      </div>
        <div (click)="FilterOpener($event)" class="filter">
        <div class="filter-header">
         <h4>categori</h4>
         <i class="bi bi-chevron-up"></i>
        </div>
        <div class="filter-body">
          <select (click)="changecategoryvalue($event)" [value]="catagoryvalue" class="category-select">
            <option value="">All Categories</option>
            @for( category of categories; track $index) {
              <option  [value]="category.name">{{ category.name }}</option>
            }
          </select>
        </div>
      </div>
      <button (click)="Filter($event)" class="filter-toggle-btn"><i class="bi bi-funnel"></i> Filter</button>
      <button (click)="clearfilter()" class="clear-filters-btn">Clear Filters</button>
    </div>
    <div class="products">
  @for (product of productlist() | filterPipe:searchText; track $index) {
    <div  class="product-item" [attr.data-product-id]="product.id">
      <img [routerLink]="`products/single-product/${product.id}`" (click)="NavigatTosingleProduct(product.id)" [src]="product.images[0]?product.images[0]:imageurl" alt="Product Image">
        @if(favourite().includes((product.id.toString()))){
          <button style="color:red;" (click)="Favouritebtn((product.id.toString()))" class="favorite-btn">♥</button>
        }
        @else {
          <button style="color: gray;" (click)="Favouritebtn((product.id.toString()))" class="favorite-btn">♥</button>
        }
      <p (click)="NavigatTosingleProduct(product.id)"  class="product-name">{{product.title}}</p>
      <div class="bottom-card">
        <span class="product-price">${{ product.price }}</span>
        <button (click)="addToCart(product)" class="add-to-cart"><i class="bi bi-cart2"></i></button>
      </div>
    </div>
  }
  </div>
  </div>
